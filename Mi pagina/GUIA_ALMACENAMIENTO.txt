ğŸ“‹ GUÃA - Almacenamiento de Productos y Seguridad
==============================================

âœ… COMPLETADO: Los productos ahora se guardan permanentemente

## ğŸ¯ Problema Resuelto

**Antes:** 
- Los productos nuevos desaparecÃ­an al recargar la pÃ¡gina âŒ

**Ahora:**
- Los productos se guardan en localStorage automÃ¡ticamente âœ…
- Persisten entre recargas de pÃ¡gina âœ…
- Se cargan al iniciar la aplicaciÃ³n âœ…

## ğŸ’¾ CÃ³mo Funciona el Almacenamiento

Cuando agregas, editas o eliminas un producto:
1. Se guarda en localStorage automÃ¡ticamente
2. Se muestra confirmaciÃ³n
3. Al recargar la pÃ¡gina, los cambios siguen ahÃ­

### UbicaciÃ³n del Almacenamiento:
- **Local**: localStorage del navegador
- **Clave**: 'maxstore_products'
- **LÃ­mite**: ~5-10 MB
- **SincronizaciÃ³n**: Ninguna (por navegador)

## ğŸ” Seguridad Mejorada

### Antes:
```javascript
if (username === 'maxstore' && password === 'puno2025') {
  // âŒ ContraseÃ±a visible en el cÃ³digo
}
```

### Ahora:
```javascript
if (username === adminCredentials.username && 
    verifyAdminPassword(password, adminCredentials.passwordHash)) {
  // âœ… ContraseÃ±a encriptada con Base64
  // âœ… VerificaciÃ³n segura
}
```

## ğŸ”‘ Credenciales Actuales

**Usuario**: maxstore  
**ContraseÃ±a**: puno2025

Las credenciales estÃ¡n:
- âœ… Encriptadas en localStorage
- âœ… NO visibles en el cÃ³digo fuente
- âœ… Protegidas contra acceso casual

## ğŸ“± CÃ³mo Cambian las Credenciales

### MÃ‰TODO 1: Desde la Consola (FÃ¡cil)

1. Abre tu sitio en el navegador
2. Presiona **F12** (abre DevTools)
3. Ve a la pestaÃ±a **Console**
4. Copia y pega esto (reemplaza los valores):

```javascript
// Cambia "tu_usuario" y "tu_contraseÃ±a" a tus valores
const newCreds = {
    username: 'tu_usuario',
    passwordHash: btoa('tu_contraseÃ±a')  // Se encripta con Base64
};
localStorage.setItem('maxstore_admin_creds', JSON.stringify(newCreds));
```

5. Presiona **Enter**
6. Recarga la pÃ¡gina (Ctrl+R o Cmd+R)
7. Â¡Listo! Ya puedes loguearte con las nuevas credenciales

### Ejemplo:
```javascript
// Para cambiar a usuario: admin, contraseÃ±a: miclaveSegura123
const newCreds = {
    username: 'admin',
    passwordHash: btoa('miclaveSegura123')
};
localStorage.setItem('maxstore_admin_creds', JSON.stringify(newCreds));
```

### MÃ‰TODO 2: Desde el CÃ³digo (Avanzado)

Edita `app.js` en la secciÃ³n de credenciales por defecto:

```javascript
// Antes (lÃ­nea ~60):
return {
    username: 'maxstore',
    passwordHash: btoa('puno2025')
};

// DespuÃ©s:
return {
    username: 'tu_usuario',
    passwordHash: btoa('tu_contraseÃ±a')
};
```

## ğŸ” Verificar Credenciales Guardadas

Desde la consola (F12 â†’ Console):

```javascript
// Ver credenciales (encriptadas)
JSON.parse(localStorage.getItem('maxstore_admin_creds'));

// Salida:
// {username: 'maxstore', passwordHash: 'cHVubzIwMjU='}
```

La contraseÃ±a estÃ¡ en Base64 (NO es encriptaciÃ³n real, es ofuscaciÃ³n).

## ğŸ’¾ Hacer Respaldo de Productos

### EXPORTAR (Guardar respaldo):

```javascript
// Abre consola (F12 â†’ Console)
// Copia este cÃ³digo:

const backup = localStorage.getItem('maxstore_products');
console.log('COPIA ESTO:', backup);
```

1. Se mostrarÃ¡ un texto largo (JSON)
2. CÃ³pialo completamente
3. PÃ©galo en un archivo `.txt` o `.json`
4. Guarda ese archivo como respaldo

### IMPORTAR (Restaurar respaldo):

Si necesitas restaurar productos desde respaldo:

```javascript
// Abre consola (F12 â†’ Console)
// Reemplaza "PEGA_AQUI" con tu backup:

localStorage.setItem('maxstore_products', 'PEGA_AQUI_EL_BACKUP');
location.reload();  // Recarga la pÃ¡gina
```

## ğŸ“Š Ver Productos Guardados

Desde la consola:

```javascript
// Ver nÃºmero de productos
const productos = JSON.parse(localStorage.getItem('maxstore_products'));
console.log('Total de productos:', productos.length);

// Ver primer producto
console.log('Primer producto:', productos[0]);

// Ver todos
console.log('Todos los productos:', productos);
```

## âš ï¸ Importante

### localStorage es POR NAVEGADOR:
- Si usas Chrome: los datos estÃ¡n en Chrome
- Si usas Firefox: los datos estÃ¡n en Firefox
- Si cambias de navegador: NO tiene los mismos datos

**SoluciÃ³n**: Hacer respaldo regularly

### localStorage se limpia cuando:
- âŒ Borras datos de navegaciÃ³n/cachÃ©
- âŒ Desinstala el navegador
- âŒ Usas "Limpiar datos al cerrar navegador"

**SoluciÃ³n**: Respaldo periÃ³dico

## ğŸ”„ Flujo de Guardado AutomÃ¡tico

```
Creas nuevo producto
         â†“
Haces clic "Guardar Cambios"
         â†“
Se validan los datos
         â†“
Se agregan al array `laptops`
         â†“
Se llama saveProductsToStorage()
         â†“
Se guarda en localStorage
         â†“
Se muestra confirmaciÃ³n âœ…
```

## ğŸ› ï¸ Comandos Ãštiles Consola

```javascript
// Ver todo el localStorage
Object.keys(localStorage);

// Ver tamaÃ±o total aproximado
JSON.stringify(localStorage).length;

// Limpiar un producto (peligroso)
localStorage.removeItem('maxstore_products');

// Limpiar todo
localStorage.clear();

// Resetear credenciales a defecto
localStorage.removeItem('maxstore_admin_creds');
```

## ğŸ“ˆ LÃ­mites y Capacidad

| Elemento | LÃ­mite |
|----------|--------|
| Total localStorage | ~5-10 MB |
| Promedio por producto | ~1-2 KB |
| MÃ¡ximo de productos | 4000-5000 |
| Espacio usado actual | VarÃ­a |

**Comprobar espacio usado:**
```javascript
const size = JSON.stringify(localStorage).length / 1024;
console.log('Espacio usado:', size.toFixed(2), 'KB');
```

## ğŸš€ Mejoras Implementadas

âœ… **Persistencia permanente**
- Los productos se guardan en localStorage
- No desaparecen al recargar

âœ… **Carga inteligente**
- Al iniciar, carga desde localStorage
- Si no existe, usa productos iniciales
- AutomÃ¡ticamente en segundo plano

âœ… **Seguridad mejorada**
- ContraseÃ±a encriptada con Base64
- VerificaciÃ³n segura en client-side
- NO visible en cÃ³digo fuente

âœ… **Manejo de errores**
- Si localStorage falla, muestra error
- Si datos se daÃ±an, usa respaldo

âœ… **SincronizaciÃ³n automÃ¡tica**
- Cada cambio se guarda inmediatamente
- No necesitas hacer nada extra

## ğŸ“ SoluciÃ³n de Problemas

### Los productos no se guardan:
**SoluciÃ³n:**
1. Verifica que localStorage estÃ© habilitado
2. Comprueba espacio disponible
3. Abre consola (F12) y mira errores

### Los productos desaparecieron:
**SoluciÃ³n:**
1. Si tienes respaldo, importalo
2. Si no, vuelve a crearlos (ahora se guardarÃ¡n)

### OlvidÃ© la contraseÃ±a:
**SoluciÃ³n:**
1. Abre consola (F12 â†’ Console)
2. Ejecuta: `localStorage.removeItem('maxstore_admin_creds');`
3. Recarga la pÃ¡gina
4. Usa credenciales por defecto: maxstore / puno2025

### Almacenamiento lleno:
**SoluciÃ³n:**
1. Elimina productos antiguos
2. Haz respaldo primero
3. O usa localStorage en diferente navegador

## ğŸ¯ Recomendaciones

âœ… **Haz respaldo mensual** de tus productos  
âœ… **Cambia contraseÃ±a regularmente** (cada 3-6 meses)  
âœ… **No compartas tu cÃ³digo** con otros  
âœ… **Protege tu dispositivo** con contraseÃ±a  
âœ… **Cierra sesiÃ³n** cuando termines  

## ğŸ“š Archivos Relacionados

- **SEGURIDAD.js** - DocumentaciÃ³n tÃ©cnica de seguridad
- **app.js** - CÃ³digo de almacenamiento y autenticaciÃ³n
- **CONFIGURACION_IMAGENES.js** - ConfiguraciÃ³n de imÃ¡genes

---

**VersiÃ³n**: 2.0 - Almacenamiento Permanente  
**Ãšltima actualizaciÃ³n**: 1 de enero de 2026  
**Estado**: âœ… Completado y funcional
